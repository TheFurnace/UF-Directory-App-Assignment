<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <link rel="stylesheet" href="style.css">
</head>

<body ng-app="directoryApp">
  <div class="container">
    <div class="row">
      <h1>UF Directory App</h1>
    </div>
    <div class="row" ng-controller="ListingsController">
      <div class="col-md-6">

        <!-- Search bar -->
        <div class="input-group" id="searchBar">
          <span class="input-group-addon" id="sizing-addon1"><span class="glyphicon glyphicon-search"></span></span>
          <input type="text" class="form-control" placeholder="Search" ng-model="searchText">
        </div>

        <div class="tableWrapper">

          <!-- Table of listings -->
          <table class="table table-striped table-hover">
            <tr>
              <th>Code</th>
              <th>Building Name</th>
              <th></th>
            </tr>
            <tr ng-repeat="listing in listings | filter:searchText">
              <td class="clickable" ng-click="showDetails(listing)">{{ listing.code }}</td>
              <td class="clickable" ng-click="showDetails(listing)">{{ listing.name }}</td>
              <td>
                <span class="glyphicon glyphicon-remove clickable" ng-click="deleteListing(listing)"></span>
              </td>
            </tr>
          </table>
        </div>

        <!-- Form to add listings -->
        <form class=spacer ng-submit="addListing(form); form = undefined">
          <div class="form-row">
            <div class="col-md-4">
              <label for="input-code">Code</label>
              <input id="input-code" type="text" class="form-control" placeholder="ABC" ng-model="form.code" required>
            </div>
            <div class="col-md-8">
              <label for="input-name">Name</label>
              <input id="input-name" type="text" class="form-control" placeholder="Ben Hill Griffin Stadium" ng-model="form.name"
                required>
            </div>
          </div>
          <div class="form-row">
            <div class="col-md-6">
              <label for="input-latitude">Latitude</label>
              <input id="input-latitude" type="text" class="form-control" placeholder="12.34" ng-model="form.coordinates.latitude">
            </div>
            <div class="col-md-6">
              <label for="input-longitude">Longitude</label>
              <input id="input-longitude" type="text" class="form-control" placeholder="56.78" ng-model="form.coordinates.longitude">
            </div>
          </div>
          <div class="form-row">
            <div class="col-md-12">
              <label for="input-address">Address</label>
              <input id="input-address" type="text" class="form-control" placeholder="1234 NW New York, NY" ng-model="form.address">
            </div>
          </div>
          <div class="form-row">
            <div class="col-md-4 spacer-small">
              <input type="submit" class="btn btn-primary mb-2" value="Add new listing">
            </div>
            <div class="col-md-4 spacer-small">
              <input type="button" class="btn mb-2" value="Clear" ng-click="form = undefined">
            </div>
          </div>
        </form>
      </div>

      <!-- Show details of selected listing -->
      <div class="col-md-6">
        <div class="jumbotron">
          <h2>Detailed Information</h2>
          <div ng-if="!!detailedInfo">
            <div class="row">
              <div class="col">
                Code: {{detailedInfo.code}}
              </div>
              <div class="col">
                Name: {{detailedInfo.name}}
              </div>
            </div>
            <div class="row">
              <div class="col">
                Latitude: {{detailedInfo.coordinates.latitude}}
              </div>
              <div class="col">
                Longitude: {{detailedInfo.coordinates.longitude}}
              </div>
            </div>
            <div class="row">
              <div class="col">
                Address: {{detailedInfo.address}}
              </div>
            </div>
          </div>
          <div ng-if="!detailedInfo">
            No listing is currently selected, click on a listing to select it.
          </div>
        </div>
      </div>

    </div>
  </div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ=="
    crossorigin="anonymous"></script>
  <script src="https://code.angularjs.org/1.4.3/angular.js"></script>
  <script src="app.js"></script>
  <script src="listingController.js"></script>
  <script src="listingFactory.js"></script>
</body>

</html>